"use strict";(self.webpackChunkah_sdk_doc=self.webpackChunkah_sdk_doc||[]).push([[264],{9041:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>a,frontMatter:()=>s,metadata:()=>d,toc:()=>h});var t=i(4848),r=i(8453);const s={sidebar_position:3},o="Initialization",d={id:"init",title:"Initialization",description:"- A single package contains virtually everything you need to set up Chat & Video SDK.",source:"@site/docs/init.md",sourceDirName:".",slug:"/init",permalink:"/docs/init",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/init.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Changelog",permalink:"/docs/changelog"},next:{title:"Chat",permalink:"/docs/category/chat"}},c={},h=[{value:"Definition",id:"definition",level:2},{value:"Chat Options",id:"chat-options",level:3},{value:"Video Options",id:"video-options",level:3},{value:"SDK Options",id:"sdk-options",level:3},{value:"SDK - Init function",id:"sdk---init-function",level:3},{value:"Example - how to call init function",id:"example---how-to-call-init-function",level:3}];function l(n){const e={admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"initialization",children:"Initialization"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"A single package contains virtually everything you need to set up Chat & Video SDK."}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"definition",children:"Definition"}),"\n",(0,t.jsx)(e.h3,{id:"chat-options",children:"Chat Options"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",metastring:'title="Definition of Options and init function"',children:"interface AHChatOptions {\n    apiKey: string;\n    apiSecret?: string;\n    timeoutMs?: number;\n    environment?: SupportedEnvironments;\n    onRefreshTokenError?: () => Promise<void>;\n}\n"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Parameter"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Description"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Type"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Required"})})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"apiKey"}),(0,t.jsx)(e.td,{children:"The api key that provided by Amplify Health"}),(0,t.jsx)(e.td,{children:"String"}),(0,t.jsx)(e.td,{children:"Yes"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"apiSecret"}),(0,t.jsx)(e.td,{children:"The api secret that associate with the api key"}),(0,t.jsx)(e.td,{children:"String"}),(0,t.jsx)(e.td,{children:"No"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"environment"}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"production"})," or ",(0,t.jsx)(e.code,{children:"staging"})]}),(0,t.jsx)(e.td,{children:"String"}),(0,t.jsx)(e.td,{children:"Yes"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"onRefreshTokenError"}),(0,t.jsx)(e.td,{children:"Callback function when refresh token error"}),(0,t.jsx)(e.td,{children:"Function"}),(0,t.jsx)(e.td,{children:"No"})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"video-options",children:"Video Options"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",metastring:'title="Definition of Options and init function"',children:"interface AHChatOptions {\n    apiKey: string;\n    apiSecret?: string;\n    timeoutMs?: number;\n    environment?: SupportedEnvironments;\n    onRefreshTokenError?: () => Promise<void>;\n}\n"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Parameter"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Description"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Type"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Required"})})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"apiKey"}),(0,t.jsx)(e.td,{children:"The api key that provided by Amplify Health"}),(0,t.jsx)(e.td,{children:"String"}),(0,t.jsx)(e.td,{children:"Yes"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"environment"}),(0,t.jsxs)(e.td,{children:[(0,t.jsx)(e.code,{children:"production"})," or ",(0,t.jsx)(e.code,{children:"staging"})]}),(0,t.jsx)(e.td,{children:"String"}),(0,t.jsx)(e.td,{children:"Yes"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"onRefreshTokenError"}),(0,t.jsx)(e.td,{children:"Callback function when refresh token error"}),(0,t.jsx)(e.td,{children:"Function"}),(0,t.jsx)(e.td,{children:"No"})]})]})]}),"\n",(0,t.jsx)(e.admonition,{title:"Info",type:"info",children:(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"onRefreshTokenError"})," is optional, if not provided, the default behaviour is to throw an ",(0,t.jsx)(e.code,{children:"AHChatErrors"})," error of code 4009."]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.code,{children:"onRefreshTokenError"})," is called when the refresh token is expired or invalid."]}),"\n"]})}),"\n",(0,t.jsx)(e.h3,{id:"sdk-options",children:"SDK Options"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",metastring:'title="Definition of Options and init function"',children:"export interface AHSDKOptions {\n  chatOptions?: AHChatOptions;\n  videoOptions?: AHVideoOptions;\n}\n"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Parameter"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Description"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Type"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Required"})})]})}),(0,t.jsxs)(e.tbody,{children:[(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"chatOptions"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{children:"AHChatOptions"}),(0,t.jsx)(e.td,{children:"No"})]}),(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"videoOptions"}),(0,t.jsx)(e.td,{}),(0,t.jsx)(e.td,{children:"AHVideoOptions"}),(0,t.jsx)(e.td,{children:"No"})]})]})]}),"\n",(0,t.jsx)(e.h3,{id:"sdk---init-function",children:"SDK - Init function"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"interface IAhSDK {\n  ...\n  init: (options: AHSDKOptions) => void;\n}\n"})}),"\n",(0,t.jsxs)(e.table,{children:[(0,t.jsx)(e.thead,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Parameter"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Description"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Type"})}),(0,t.jsx)(e.th,{children:(0,t.jsx)(e.strong,{children:"Required"})})]})}),(0,t.jsx)(e.tbody,{children:(0,t.jsxs)(e.tr,{children:[(0,t.jsx)(e.td,{children:"options"}),(0,t.jsx)(e.td,{children:"combine of chatOptions and videoOptions"}),(0,t.jsx)(e.td,{children:"AHSDKOptions"}),(0,t.jsx)(e.td,{children:"Yes"})]})})]}),"\n",(0,t.jsx)(e.h3,{id:"example---how-to-call-init-function",children:"Example - how to call init function"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",metastring:'title="Call init function with options"',children:"import { ahSDK } from 'ahsdk';\n// at client-side, you initialize the Chat client with your API key\nAppRegistry.registerComponent(appName, () => {\n  ahSDK.init({\n    chatOptions: {\n      apiKey: env.AH_CHAT_API_KEY,\n      apiSecret: env.AH_CHAT_SECRET_KEY,\n      environment: env.AH_ENVIRONMENT,\n      onRefreshTokenError: onRefreshTokenError,\n    },\n    videoOptions: {\n      apiKey: env.AH_VIDEO_API_KEY,\n      environment: env.AH_ENVIRONMENT,\n      onRefreshTokenError: onRefreshTokenError,\n    }\n  });\n  return App;\n});\n// get the instance after initialized\nconst chatSDK = ahSDK.getChat();\n\n// get the instance after initialized\nconst videoSDK = ahSDK.getVideo();\n"})})]})}function a(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(l,{...n})}):l(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>o,x:()=>d});var t=i(6540);const r={},s=t.createContext(r);function o(n){const e=t.useContext(s);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:o(n.components),t.createElement(s.Provider,{value:e},n.children)}}}]);